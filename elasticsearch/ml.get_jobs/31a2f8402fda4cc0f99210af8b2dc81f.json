{
  "api": "ml.get_jobs",
  "file": "/test/platinum/ml/delete_job_force.yml",
  "name": "Test force delete an open job that is referred by a started datafeed",
  "origin": "yaml",
  "request": {
    "args": {
      "job_id": "_all"
    }
  },
  "response": {
    "headers": {
      "content-length": "13508",
      "content-type": "application/json",
      "x-elastic-product": "Elasticsearch"
    },
    "payload": {
      "count": 18,
      "jobs": [
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "5m",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945289216,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch_ms"
          },
          "job_id": "bar-a",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "5m",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945286620,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch_ms"
          },
          "job_id": "cal-crud-job-with-events",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "5m",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945287544,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch_ms"
          },
          "groups": [
            "ben-holidays-group"
          ],
          "job_id": "cal-crud-job-with-events-group",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "5m",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945278983,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch_ms"
          },
          "job_id": "cal-job",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "5m",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945279243,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch_ms"
          },
          "job_id": "cal-job2",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "5m",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945289472,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch_ms"
          },
          "job_id": "calendar-job",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "5m",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945293316,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch_ms"
          },
          "description": "Job for testing custom all field",
          "job_id": "custom-all-test-1",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "5m",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945293460,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch_ms"
          },
          "description": "Job for testing custom all field",
          "job_id": "custom-all-test-2",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "1h",
            "detectors": [
              {
                "detector_description": "count",
                "detector_index": 0,
                "function": "count"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d",
            "summary_count_field_name": "doc_count"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945334423,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch"
          },
          "datafeed_config": {
            "authorization": {
              "roles": [
                "superuser"
              ]
            },
            "chunking_config": {
              "mode": "auto"
            },
            "datafeed_id": "test-datafeed-indices-options-1",
            "delayed_data_check_config": {
              "enabled": true
            },
            "indices": [
              "index-foo"
            ],
            "indices_options": {
              "allow_no_indices": true,
              "expand_wildcards": [
                "open"
              ],
              "ignore_throttled": true,
              "ignore_unavailable": false
            },
            "job_id": "datafeeds-crud-1",
            "query": {
              "match_all": {
              }
            },
            "query_delay": "103324ms",
            "scroll_size": 1000
          },
          "job_id": "datafeeds-crud-1",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "1h",
            "detectors": [
              {
                "detector_description": "count",
                "detector_index": 0,
                "function": "count"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945334553,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch_ms"
          },
          "datafeed_config": {
            "authorization": {
              "roles": [
                "superuser"
              ]
            },
            "chunking_config": {
              "mode": "auto"
            },
            "datafeed_id": "test-datafeed-2",
            "delayed_data_check_config": {
              "enabled": true
            },
            "indices": [
              "index-foo"
            ],
            "indices_options": {
              "allow_no_indices": true,
              "expand_wildcards": [
                "open"
              ],
              "ignore_throttled": true,
              "ignore_unavailable": false
            },
            "job_id": "datafeeds-crud-2",
            "query": {
              "match_all": {
              }
            },
            "query_delay": "81260ms",
            "scroll_size": 1000
          },
          "job_id": "datafeeds-crud-2",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "1h",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945343080,
          "data_description": {
            "time_field": "time",
            "time_format": "yyyy-MM-dd HH:mm:ssX"
          },
          "description": "Analysis of response time by airline",
          "job_id": "delete-expired-data-a",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 1,
          "results_index_name": "shared",
          "results_retention_days": 1
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "1h",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945343235,
          "data_description": {
            "time_field": "time",
            "time_format": "yyyy-MM-dd HH:mm:ssX"
          },
          "description": "Analysis of response time by airline",
          "job_id": "delete-expired-data-b",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 1,
          "results_index_name": "shared",
          "results_retention_days": 1
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "5m",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945289013,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch_ms"
          },
          "job_id": "foo-a",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "5m",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945289177,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch_ms"
          },
          "job_id": "foo-b",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "1h",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "10mb"
          },
          "create_time": 1755945333953,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch"
          },
          "datafeed_config": {
            "authorization": {
              "roles": [
                "superuser"
              ]
            },
            "chunking_config": {
              "mode": "auto"
            },
            "datafeed_id": "datafeed-job-stats-test",
            "delayed_data_check_config": {
              "enabled": true
            },
            "indices": [
              "airline-data"
            ],
            "indices_options": {
              "allow_no_indices": true,
              "expand_wildcards": [
                "open"
              ],
              "ignore_throttled": true,
              "ignore_unavailable": false
            },
            "job_id": "job-stats-test",
            "query": {
              "match_all": {
              }
            },
            "query_delay": "117113ms",
            "scroll_size": 1000
          },
          "description": "Analysis of response time by airline",
          "job_id": "job-stats-test",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "1h",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "10mb"
          },
          "create_time": 1755945334132,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "yyyy-MM-dd'T'HH:mm:ssX"
          },
          "datafeed_config": {
            "authorization": {
              "roles": [
                "superuser"
              ]
            },
            "chunking_config": {
              "mode": "auto"
            },
            "datafeed_id": "datafeed-jobs-get-stats-datafeed-job",
            "delayed_data_check_config": {
              "enabled": true
            },
            "indices": [
              "airline-data"
            ],
            "indices_options": {
              "allow_no_indices": true,
              "expand_wildcards": [
                "open"
              ],
              "ignore_throttled": true,
              "ignore_unavailable": false
            },
            "job_id": "jobs-get-stats-datafeed-job",
            "query": {
              "match_all": {
              }
            },
            "query_delay": "61866ms",
            "scroll_size": 1000
          },
          "description": "A job with a datafeed",
          "job_id": "jobs-get-stats-datafeed-job",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "5m",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945284034,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch_ms"
          },
          "job_id": "otter",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        },
        {
          "allow_lazy_open": false,
          "analysis_config": {
            "bucket_span": "5m",
            "detectors": [
              {
                "by_field_name": "airline",
                "detector_description": "metric(responsetime) by airline",
                "detector_index": 0,
                "field_name": "responsetime",
                "function": "metric"
              }
            ],
            "influencers": [
            ],
            "model_prune_window": "30d"
          },
          "analysis_limits": {
            "categorization_examples_limit": 4,
            "model_memory_limit": "1024mb"
          },
          "create_time": 1755945283877,
          "daily_model_snapshot_retention_after_days": 1,
          "data_description": {
            "time_field": "time",
            "time_format": "epoch_ms"
          },
          "job_id": "tiger",
          "job_type": "anomaly_detector",
          "job_version": "12.0.0",
          "model_snapshot_retention_days": 10,
          "results_index_name": "shared"
        }
      ]
    },
    "statusCode": 200
  }
}