{
  "api": "cluster.reroute",
  "file": "/test/free/cluster.reroute/20_deprecated_response_filtering.yml",
  "name": "Do not return metadata by default and produce deprecation warning",
  "origin": "yaml",
  "request": {
    "args": {
    }
  },
  "response": {
    "headers": {
      "content-encoding": "gzip",
      "content-type": "application/json",
      "transfer-encoding": "chunked",
      "warning": "299 Elasticsearch-8.19.0-ce1dc3dab2dae5f164dc8f704a64cc006a9fba45 \"The [state] field in the response to the reroute API is deprecated and will be removed in a future version. Specify ?metric=none to adopt the future behaviour.\"",
      "x-elastic-product": "Elasticsearch"
    },
    "payload": {
      "acknowledged": true,
      "state": {
        "blocks": {
        },
        "cluster_uuid": "H68LRlCSQkSr2Au25U8YXQ",
        "health": {
          "disk": {
            "flood_stage_max_headroom": "100gb",
            "flood_stage_watermark": "95%",
            "frozen_flood_stage_max_headroom": "20gb",
            "frozen_flood_stage_watermark": "95%",
            "high_max_headroom": "150gb",
            "high_watermark": "90%"
          },
          "shard_limits": {
            "max_shards_per_node": 1000,
            "max_shards_per_node_frozen": 3000
          }
        },
        "master_node": "74eIF5jZTs-Bv9GIbYJ71w",
        "nodes": {
          "74eIF5jZTs-Bv9GIbYJ71w": {
            "attributes": {
              "ml.allocated_processors": "2",
              "ml.allocated_processors_double": "2.0",
              "ml.config_version": "12.0.0",
              "ml.machine_memory": "16762286080",
              "ml.max_jvm_size": "1073741824",
              "testattr": "test",
              "transform.config_version": "10.0.0",
              "xpack.installed": "true"
            },
            "ephemeral_id": "kUxfKUx7QJ6EkFrSU21uMw",
            "external_id": "instance",
            "max_index_version": 8527000,
            "min_index_version": 7000099,
            "name": "instance",
            "roles": [
              "data",
              "data_cold",
              "data_content",
              "data_frozen",
              "data_hot",
              "data_warm",
              "ingest",
              "master",
              "ml",
              "remote_cluster_client",
              "transform"
            ],
            "transport_address": "172.18.0.2:9300",
            "version": "8.19.0"
          }
        },
        "nodes_features": [
          {
            "features": [
              "cluster.stats.source_modes",
              "data_stream.auto_sharding",
              "data_stream.lifecycle.global_retention",
              "data_stream.rollover.lazy",
              "desired_node.version_deprecated",
              "esql.agg_values",
              "esql.async_query",
              "esql.base64_decode_encode",
              "esql.casting_operator",
              "esql.counter_types",
              "esql.disable_nullable_opts",
              "esql.from_options",
              "esql.metadata_fields",
              "esql.metrics_counter_fields",
              "esql.metrics_syntax",
              "esql.mv_ordering_sorted_ascending",
              "esql.mv_sort",
              "esql.resolve_fields_api",
              "esql.spatial_points_from_source",
              "esql.spatial_shapes",
              "esql.st_centroid_agg",
              "esql.st_contains_within",
              "esql.st_disjoint",
              "esql.st_intersects",
              "esql.st_x_y",
              "esql.string_literal_auto_casting",
              "esql.string_literal_auto_casting_extended",
              "esql.timespan_abbreviations",
              "features_supported",
              "file_settings",
              "flattened.ignore_above_support",
              "geoip.downloader.database.configuration",
              "get_database_configuration_action.multi_node",
              "health.dsl.info",
              "health.extended_repository_indicator",
              "knn_retriever_supported",
              "license-trial-independent-version",
              "linear_retriever_supported",
              "logsdb_telemetry",
              "logsdb_telemetry_stats",
              "mapper.boolean_dimension",
              "mapper.flattened.ignore_above_with_arrays_support",
              "mapper.ignore_above_index_level_setting",
              "mapper.index_sorting_on_nested",
              "mapper.keyword_dimension_ignore_above",
              "mapper.keyword_normalizer_synthetic_source",
              "mapper.pass_through_priority",
              "mapper.query_index_mode",
              "mapper.range.null_values_off_by_one_fix",
              "mapper.segment_level_fields_stats",
              "mapper.source.synthetic_source_copy_to_fix",
              "mapper.source.synthetic_source_copy_to_inside_objects_fix",
              "mapper.source.synthetic_source_fallback",
              "mapper.source.synthetic_source_stored_fields_advance_fix",
              "mapper.source.synthetic_source_with_copy_to_and_doc_values_false",
              "mapper.subobjects_auto",
              "mapper.subobjects_auto_fixes",
              "mapper.synthetic_source_keep",
              "mapper.track_ignored_source",
              "mapper.vectors.bbq",
              "mapper.vectors.bit_vectors",
              "mapper.vectors.int4_quantization",
              "put_database_configuration_action.ipinfo",
              "query_rule_list_types",
              "query_rule_retriever_supported",
              "query_rules.test",
              "random_reranker_retriever_supported",
              "repositories.supports_usage_stats",
              "rest.capabilities_action",
              "rest.local_only_capabilities",
              "retrievers_supported",
              "routing.boolean_routing_path",
              "routing.multi_value_routing_path",
              "rrf_retriever_composition_supported",
              "rrf_retriever_supported",
              "script.hamming",
              "script.term_stats",
              "search.vectors.k_param_supported",
              "security.migration_framework",
              "security.queryable_built_in_roles",
              "security.role_mapping_cleanup",
              "security.roles_metadata_flattened",
              "semantic_text.default_elser_2",
              "semantic_text.search_inference_id",
              "simulate.component.template.substitutions",
              "simulate.ignored.fields",
              "simulate.index.template.substitutions",
              "simulate.mapping.addition",
              "simulate.mapping.validation",
              "simulate.mapping.validation.templates",
              "simulate.support.non.template.mapping",
              "slm.interval_schedule",
              "snapshot.repository_verify_integrity",
              "standard_retriever_supported",
              "stats.include_disk_thresholds",
              "text_similarity_reranker_retriever_composition_supported",
              "text_similarity_reranker_retriever_supported",
              "tsdb.ts_routing_hash_doc_value_parse_byte_ref",
              "unified_highlighter_matched_fields",
              "usage.data_tiers.precalculate_stats"
            ],
            "node_id": "74eIF5jZTs-Bv9GIbYJ71w"
          }
        ],
        "nodes_versions": [
          {
            "mappings_versions": {
              ".async-search": {
                "hash": -1403744380,
                "version": 0
              },
              ".connector-secrets-1": {
                "hash": -745394230,
                "version": 1
              },
              ".fleet-actions-7": {
                "hash": -2624357,
                "version": 2
              },
              ".fleet-agents-7": {
                "hash": -270798539,
                "version": 2
              },
              ".fleet-artifacts-7": {
                "hash": -1593703898,
                "version": 1
              },
              ".fleet-enrollment-api-keys-7": {
                "hash": -1804942283,
                "version": 2
              },
              ".fleet-policies-7": {
                "hash": -201702522,
                "version": 2
              },
              ".fleet-policies-leader-7": {
                "hash": -1108172796,
                "version": 1
              },
              ".fleet-secrets-7": {
                "hash": -745394230,
                "version": 1
              },
              ".fleet-servers-7": {
                "hash": -916922632,
                "version": 1
              },
              ".geoip_databases": {
                "hash": -305757839,
                "version": 1
              },
              ".inference": {
                "hash": -1459421596,
                "version": 2
              },
              ".logstash": {
                "hash": -1058806351,
                "version": 1
              },
              ".ml-config": {
                "hash": -319778629,
                "version": 1
              },
              ".ml-inference-000005": {
                "hash": 919553140,
                "version": 3
              },
              ".ml-meta": {
                "hash": -613742866,
                "version": 2
              },
              ".query-rules-2": {
                "hash": -1272560824,
                "version": 2
              },
              ".search-app-1": {
                "hash": -501711141,
                "version": 1
              },
              ".secrets-inference": {
                "hash": -1434574148,
                "version": 1
              },
              ".security-7": {
                "hash": -832976091,
                "version": 3
              },
              ".security-profile-8": {
                "hash": -909540896,
                "version": 2
              },
              ".security-tokens-7": {
                "hash": 576296021,
                "version": 1
              },
              ".snapshot-blob-cache": {
                "hash": 632712485,
                "version": 1
              },
              ".synonyms-2": {
                "hash": -888080772,
                "version": 1
              },
              ".tasks": {
                "hash": -945584329,
                "version": 0
              },
              ".transform-internal-007": {
                "hash": 1144737897,
                "version": 1
              },
              ".triggered_watches": {
                "hash": -502826165,
                "version": 1
              },
              ".watches": {
                "hash": -1045118511,
                "version": 1
              }
            },
            "node_id": "74eIF5jZTs-Bv9GIbYJ71w",
            "transport_version": "8841013"
          }
        ],
        "routing_nodes": {
          "nodes": {
            "74eIF5jZTs-Bv9GIbYJ71w": [
            ]
          },
          "unassigned": [
          ]
        },
        "routing_table": {
          "indices": {
          }
        },
        "snapshot_deletions": {
          "snapshot_deletions": [
          ]
        },
        "snapshots": {
          "node_ids_for_removal": [
          ],
          "snapshots": [
          ]
        },
        "state_uuid": "Q3apM_C7Q4W4hDVUjWjI-Q",
        "version": 5042
      }
    },
    "statusCode": 200
  }
}