{
  "api": "ml.get_trained_models_stats",
  "file": "/test/platinum/ml/get_trained_model_stats.yml",
  "name": "Test get stats given trained models",
  "origin": "yaml",
  "request": {
    "args": {
      "model_id": "*"
    }
  },
  "response": {
    "headers": {
      "content-length": "4498",
      "content-type": "application/json",
      "x-elastic-product": "Elasticsearch"
    },
    "payload": {
      "count": 16,
      "trained_model_stats": [
        {
          "model_id": "a-unused-regression-model",
          "model_size_stats": {
            "model_size_bytes": 376,
            "required_native_memory_bytes": 0
          },
          "pipeline_count": 0
        },
        {
          "model_id": "a-unused-regression-model1",
          "model_size_stats": {
            "model_size_bytes": 376,
            "required_native_memory_bytes": 0
          },
          "pipeline_count": 0
        },
        {
          "model_id": "another-regression-model",
          "model_size_stats": {
            "model_size_bytes": 376,
            "required_native_memory_bytes": 0
          },
          "pipeline_count": 0
        },
        {
          "model_id": "another_test_model",
          "model_size_stats": {
            "model_size_bytes": 1630,
            "required_native_memory_bytes": 251661500
          },
          "pipeline_count": 0
        },
        {
          "model_id": "bert_fill_mask_model",
          "model_size_stats": {
            "model_size_bytes": 0,
            "required_native_memory_bytes": 0
          },
          "pipeline_count": 0
        },
        {
          "model_id": "distilbert-finetuned-sst",
          "model_size_stats": {
            "model_size_bytes": 0,
            "required_native_memory_bytes": 0
          },
          "pipeline_count": 0
        },
        {
          "model_id": "j_bert",
          "model_size_stats": {
            "model_size_bytes": 0,
            "required_native_memory_bytes": 0
          },
          "pipeline_count": 0
        },
        {
          "model_id": "lang_ident_model_1",
          "model_size_stats": {
            "model_size_bytes": 1053992,
            "required_native_memory_bytes": 0
          },
          "pipeline_count": 0
        },
        {
          "model_id": "model_with_ingest_prefix",
          "model_size_stats": {
            "model_size_bytes": 0,
            "required_native_memory_bytes": 0
          },
          "pipeline_count": 0
        },
        {
          "model_id": "model_with_prefixes",
          "model_size_stats": {
            "model_size_bytes": 0,
            "required_native_memory_bytes": 0
          },
          "pipeline_count": 0
        },
        {
          "model_id": "model_with_search_prefix",
          "model_size_stats": {
            "model_size_bytes": 0,
            "required_native_memory_bytes": 0
          },
          "pipeline_count": 0
        },
        {
          "model_id": "roberta_fill_mask_model",
          "model_size_stats": {
            "model_size_bytes": 0,
            "required_native_memory_bytes": 0
          },
          "pipeline_count": 0
        },
        {
          "deployment_stats": {
            "allocation_status": {
              "allocation_count": 0,
              "state": "starting",
              "target_allocation_count": 1
            },
            "cache_size": "10kb",
            "deployment_id": "test_model_deployment_cache_test",
            "model_id": "test_model",
            "nodes": [
            ],
            "number_of_allocations": 1,
            "peak_throughput_per_minute": 0,
            "priority": "normal",
            "queue_capacity": 10000,
            "start_time": 1734949975082,
            "state": "starting",
            "threads_per_allocation": 1
          },
          "inference_stats": {
            "cache_miss_count": 0,
            "failure_count": 0,
            "inference_count": 0,
            "missing_all_fields_count": 0,
            "timestamp": 1734950077444
          },
          "model_id": "test_model",
          "model_size_stats": {
            "model_size_bytes": 1630,
            "required_native_memory_bytes": 251661500
          },
          "pipeline_count": 0
        },
        {
          "deployment_stats": {
            "allocation_status": {
              "allocation_count": 0,
              "state": "starting",
              "target_allocation_count": 1
            },
            "cache_size": "1.5kb",
            "deployment_id": "test_model_deployment",
            "model_id": "test_model",
            "nodes": [
            ],
            "number_of_allocations": 1,
            "peak_throughput_per_minute": 0,
            "priority": "normal",
            "queue_capacity": 10000,
            "start_time": 1734949972941,
            "state": "starting",
            "threads_per_allocation": 1
          },
          "inference_stats": {
            "cache_miss_count": 0,
            "failure_count": 0,
            "inference_count": 0,
            "missing_all_fields_count": 0,
            "timestamp": 1734950077444
          },
          "model_id": "test_model",
          "model_size_stats": {
            "model_size_bytes": 1630,
            "required_native_memory_bytes": 251661500
          },
          "pipeline_count": 0
        },
        {
          "deployment_stats": {
            "allocation_status": {
              "allocation_count": 0,
              "state": "starting",
              "target_allocation_count": 1
            },
            "cache_size": "1.5kb",
            "deployment_id": "test_model",
            "model_id": "test_model",
            "nodes": [
            ],
            "number_of_allocations": 1,
            "peak_throughput_per_minute": 0,
            "priority": "normal",
            "queue_capacity": 10000,
            "start_time": 1734949978447,
            "state": "starting",
            "threads_per_allocation": 1
          },
          "inference_stats": {
            "cache_miss_count": 0,
            "failure_count": 0,
            "inference_count": 0,
            "missing_all_fields_count": 0,
            "timestamp": 1734950077444
          },
          "model_id": "test_model",
          "model_size_stats": {
            "model_size_bytes": 1630,
            "required_native_memory_bytes": 251661500
          },
          "pipeline_count": 0
        },
        {
          "deployment_stats": {
            "allocation_status": {
              "allocation_count": 0,
              "state": "starting",
              "target_allocation_count": 1
            },
            "cache_size": "2kb",
            "deployment_id": "text_expansion_model",
            "model_id": "text_expansion_model",
            "nodes": [
            ],
            "number_of_allocations": 1,
            "peak_throughput_per_minute": 0,
            "priority": "normal",
            "queue_capacity": 10000,
            "start_time": 1734949697881,
            "state": "starting",
            "threads_per_allocation": 1
          },
          "inference_stats": {
            "cache_miss_count": 0,
            "failure_count": 0,
            "inference_count": 0,
            "missing_all_fields_count": 0,
            "timestamp": 1734950077444
          },
          "model_id": "text_expansion_model",
          "model_size_stats": {
            "model_size_bytes": 2078,
            "required_native_memory_bytes": 251662396
          },
          "pipeline_count": 0
        },
        {
          "model_id": "with_correct_mask_token",
          "model_size_stats": {
            "model_size_bytes": 0,
            "required_native_memory_bytes": 0
          },
          "pipeline_count": 0
        },
        {
          "model_id": "with_other_correct_mask_token",
          "model_size_stats": {
            "model_size_bytes": 0,
            "required_native_memory_bytes": 0
          },
          "pipeline_count": 0
        }
      ]
    },
    "statusCode": 200
  }
}