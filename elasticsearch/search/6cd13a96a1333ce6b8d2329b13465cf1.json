{
  "api": "search",
  "file": "/test/platinum/downsample/100_downsample_histograms.yml",
  "name": "Downsample exponential histogram with last value",
  "origin": "yaml",
  "request": {
    "args": {
      "body": {
        "query": {
          "term": {
            "metricset": "set_1"
          }
        },
        "sort": [
          "@timestamp"
        ]
      },
      "index": "last-value-exponential-histogram",
      "typed_keys": true
    }
  },
  "response": {
    "headers": {
      "content-type": "application/json",
      "transfer-encoding": "chunked",
      "x-elastic-product": "Elasticsearch"
    },
    "payload": {
      "_shards": {
        "failed": 0,
        "skipped": 0,
        "successful": 1,
        "total": 1
      },
      "hits": {
        "hits": [
          {
            "_id": "Ju1FhcfFDPr5jFPIAAABeRmjQQA",
            "_index": "last-value-exponential-histogram",
            "_score": null,
            "_source": {
              "@timestamp": "2021-04-28T18:00:00.000Z",
              "_doc_count": 2,
              "metric": {
                "max": 0.9412120998532649,
                "min": -0.8596842630789088,
                "negative": {
                  "counts": [
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1
                  ],
                  "indices": [
                    -1423777207002,
                    -923870284341,
                    -877992064499,
                    -870206177266,
                    -850685295282,
                    -759799372292,
                    -643924938249,
                    -570457241089,
                    -528116212727,
                    -369003212885,
                    -315079526687,
                    -292745353109,
                    -235218433328,
                    -222024648135,
                    -204603508425,
                    -195434414609,
                    -177993661419,
                    -172367743205,
                    -168351131368,
                    -149696012047,
                    -115115447928,
                    -95206374327,
                    -74115574931,
                    -74013160315,
                    -64191774880,
                    -63955626713,
                    -59956698242
                  ]
                },
                "positive": {
                  "counts": [
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1
                  ],
                  "indices": [
                    -1527782821719,
                    -1491647186305,
                    -912103649399,
                    -744031889051,
                    -669036239523,
                    -602111557612,
                    -586601121715,
                    -567461548128,
                    -483021101785,
                    -450865160617,
                    -331097834736,
                    -293981770197,
                    -289290353357,
                    -246965149109,
                    -203070759894,
                    -180702903638,
                    -135653049938,
                    -93843302593,
                    -78356307212,
                    -76729181967,
                    -65070806329,
                    -64241350555,
                    -24026590621
                  ]
                },
                "scale": 38,
                "sum": -2.612341035444145
              },
              "metricset": "set_1",
              "non-metric": {
                "max": 0.9412120998532649,
                "min": -0.8596842630789088,
                "negative": {
                  "counts": [
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1
                  ],
                  "indices": [
                    -1423777207002,
                    -923870284341,
                    -877992064499,
                    -870206177266,
                    -850685295282,
                    -759799372292,
                    -643924938249,
                    -570457241089,
                    -528116212727,
                    -369003212885,
                    -315079526687,
                    -292745353109,
                    -235218433328,
                    -222024648135,
                    -204603508425,
                    -195434414609,
                    -177993661419,
                    -172367743205,
                    -168351131368,
                    -149696012047,
                    -115115447928,
                    -95206374327,
                    -74115574931,
                    -74013160315,
                    -64191774880,
                    -63955626713,
                    -59956698242
                  ]
                },
                "positive": {
                  "counts": [
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1
                  ],
                  "indices": [
                    -1527782821719,
                    -1491647186305,
                    -912103649399,
                    -744031889051,
                    -669036239523,
                    -602111557612,
                    -586601121715,
                    -567461548128,
                    -483021101785,
                    -450865160617,
                    -331097834736,
                    -293981770197,
                    -289290353357,
                    -246965149109,
                    -203070759894,
                    -180702903638,
                    -135653049938,
                    -93843302593,
                    -78356307212,
                    -76729181967,
                    -65070806329,
                    -64241350555,
                    -24026590621
                  ]
                },
                "scale": 38,
                "sum": -2.612341035444145
              }
            },
            "sort": [
              1619632800000
            ]
          },
          {
            "_id": "Ju1FhcfFDPr5jFPIAAABeRnaL4A",
            "_index": "last-value-exponential-histogram",
            "_score": null,
            "_source": {
              "@timestamp": "2021-04-28T19:00:00.000Z",
              "_doc_count": 1,
              "metric": {
                "max": 0.9,
                "min": -0.596,
                "negative": {
                  "counts": [
                    1,
                    1,
                    1
                  ],
                  "indices": [
                    -142,
                    -92,
                    -87
                  ]
                },
                "positive": {
                  "counts": [
                    1,
                    1,
                    1
                  ],
                  "indices": [
                    -100,
                    -90,
                    -88
                  ]
                },
                "scale": 3,
                "sum": -2.612341035444145
              },
              "metricset": "set_1",
              "non-metric": {
                "max": 0.9,
                "min": -0.596,
                "negative": {
                  "counts": [
                    1,
                    1,
                    1
                  ],
                  "indices": [
                    -142,
                    -92,
                    -87
                  ]
                },
                "positive": {
                  "counts": [
                    1,
                    1,
                    1
                  ],
                  "indices": [
                    -100,
                    -90,
                    -88
                  ]
                },
                "scale": 3,
                "sum": -2.612341035444145
              }
            },
            "sort": [
              1619636400000
            ]
          }
        ],
        "max_score": null,
        "total": {
          "relation": "eq",
          "value": 2
        }
      },
      "timed_out": false,
      "took": 4
    },
    "statusCode": 200
  }
}